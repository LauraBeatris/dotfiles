var Re=Object.create;var x=Object.defineProperty,Me=Object.defineProperties,We=Object.getOwnPropertyDescriptor,Be=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,Ne=Object.getPrototypeOf,Y=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var Q=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))Y.call(t,r)&&Q(e,r,t[r]);if(U)for(var r of U(t))Ve.call(t,r)&&Q(e,r,t[r]);return e},A=(e,t)=>Me(e,Be(t)),H=e=>x(e,"__esModule",{value:!0});var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ke=(e,t)=>{for(var r in t)x(e,r,{get:t[r],enumerable:!0})},Z=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ge(t))!Y.call(e,o)&&(r||o!=="default")&&x(e,o,{get:()=>t[o],enumerable:!(n=We(t,o))||n.enumerable});return e},v=(e,t)=>Z(H(x(e!=null?Re(Ne(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),ze=(e=>(t,r)=>e&&e.get(t)||(r=Z(H({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var D=g((At,te)=>{"use strict";var ee=require("fs"),k;function Je(){try{return ee.statSync("/.dockerenv"),!0}catch{return!1}}function Xe(){try{return ee.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}te.exports=()=>(k===void 0&&(k=Je()||Xe()),k)});var oe=g((_t,q)=>{"use strict";var Ue=require("os"),Qe=require("fs"),re=D(),ne=()=>{if(process.platform!=="linux")return!1;if(Ue.release().toLowerCase().includes("microsoft"))return!re();try{return Qe.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!re():!1}catch{return!1}};process.env.__IS_WSL_TEST__?q.exports=ne:q.exports=ne()});var se=g((Ct,ie)=>{"use strict";ie.exports=(e,t,r)=>{let n=o=>Object.defineProperty(e,t,{value:o,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let o=r();return n(o),o},set(o){n(o)}}),e}});var de=g((vt,pe)=>{var Ye=require("path"),He=require("child_process"),{promises:$,constants:fe}=require("fs"),O=oe(),Ze=D(),R=se(),ce=Ye.join(__dirname,"xdg-open"),{platform:P,arch:ae}=process,et=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await $.access(r,fe.F_OK),n=!0}catch{}if(!n)return e;let o=await $.readFile(r,{encoding:"utf8"}),i=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return i?(t=i.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),le=async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(o){r=o}throw r},T=async e=>{if(e=m({wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1},e),Array.isArray(e.app))return le(e.app,a=>T(A(m({},e),{app:a})));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return le(t,a=>T(A(m({},e),{app:{name:a,arguments:r}})));let n,o=[],i={};if(P==="darwin")n="open",e.wait&&o.push("--wait-apps"),e.background&&o.push("--background"),e.newInstance&&o.push("--new"),t&&o.push("-a",t);else if(P==="win32"||O&&!Ze()){let a=await et();n=O?`${a}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),O||(i.windowsVerbatimArguments=!0);let l=["Start"];e.wait&&l.push("-Wait"),t?(l.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&l.push(`"${e.target}"`),r.length>0&&(r=r.map(f=>`"\`"${f}\`""`),l.push(r.join(","))),e.target=Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let a=!__dirname||__dirname==="/",l=!1;try{await $.access(ce,fe.X_OK),l=!0}catch{}n=process.versions.electron||P==="android"||a||!l?"xdg-open":ce}r.length>0&&o.push(...r),e.wait||(i.stdio="ignore",i.detached=!0)}e.target&&o.push(e.target),P==="darwin"&&r.length>0&&o.push("--args",...r);let s=He.spawn(n,o,i);return e.wait?new Promise((a,l)=>{s.once("error",l),s.once("close",f=>{if(e.allowNonzeroExitCode&&f>0){l(new Error(`Exited with code ${f}`));return}a(s)})}):(s.unref(),s)},M=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return T(A(m({},t),{target:e}))},tt=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return T(A(m({},t),{app:{name:e,arguments:r}}))};function ue(e){if(typeof e=="string"||Array.isArray(e))return e;let{[ae]:t}=e;if(!t)throw new Error(`${ae} is not supported`);return t}function W({[P]:e},{wsl:t}){if(t&&O)return ue(t);if(!e)throw new Error(`${P} is not supported`);return ue(e)}var b={};R(b,"chrome",()=>W({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));R(b,"firefox",()=>W({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));R(b,"edge",()=>W({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));M.apps=b;M.openApp=tt;pe.exports=M});var ye=g(y=>{y.parse=y.decode=rt;y.stringify=y.encode=me;y.safe=w;y.unsafe=F;var B=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`;function me(e,t){var r=[],n="";typeof t=="string"?t={section:t,whitespace:!1}:(t=t||{},t.whitespace=t.whitespace===!0);var o=t.whitespace?" = ":"=";return Object.keys(e).forEach(function(i,s,a){var l=e[i];l&&Array.isArray(l)?l.forEach(function(f){n+=w(i+"[]")+o+w(f)+`
`}):l&&typeof l=="object"?r.push(i):n+=w(i)+o+w(l)+B}),t.section&&n.length&&(n="["+w(t.section)+"]"+B+n),r.forEach(function(i,s,a){var l=he(i).join("\\."),f=(t.section?t.section+".":"")+l,u=me(e[i],{section:f,whitespace:t.whitespace});n.length&&u.length&&(n+=B),n+=u}),n}function he(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(t){return t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function rt(e){var t={},r=t,n=null,o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,i=e.split(/[\r\n]+/g);return i.forEach(function(s,a,l){if(!(!s||s.match(/^\s*[;#]/))){var f=s.match(o);if(!!f){if(f[1]!==void 0){if(n=F(f[1]),n==="__proto__"){r={};return}r=t[n]=t[n]||{};return}var u=F(f[2]);if(u!=="__proto__"){var h=f[3]?F(f[4]):!0;switch(h){case"true":case"false":case"null":h=JSON.parse(h)}if(u.length>2&&u.slice(-2)==="[]"){if(u=u.substring(0,u.length-2),u==="__proto__")return;r[u]?Array.isArray(r[u])||(r[u]=[r[u]]):r[u]=[]}Array.isArray(r[u])?r[u].push(h):r[u]=h}}}}),Object.keys(t).filter(function(s,a,l){if(!t[s]||typeof t[s]!="object"||Array.isArray(t[s]))return!1;var f=he(s),u=t,h=f.pop(),X=h.replace(/\\\./g,".");return f.forEach(function(S,Et,St){S!=="__proto__"&&((!u[S]||typeof u[S]!="object")&&(u[S]={}),u=u[S])}),u===t&&X===h?!1:(u[X]=t[s],!0)}).forEach(function(s,a,l){delete t[s]}),t}function ge(e){return e.charAt(0)==='"'&&e.slice(-1)==='"'||e.charAt(0)==="'"&&e.slice(-1)==="'"}function w(e){return typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&ge(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#")}function F(e,t){if(e=(e||"").trim(),ge(e)){e.charAt(0)==="'"&&(e=e.substr(1,e.length-2));try{e=JSON.parse(e)}catch{}}else{for(var r=!1,n="",o=0,i=e.length;o<i;o++){var s=e.charAt(o);if(r)"\\;#".indexOf(s)!==-1?n+=s:n+="\\"+s,r=!1;else{if(";#".indexOf(s)!==-1)break;s==="\\"?r=!0:n+=s}}return r&&(n+="\\"),n.trim()}return e}});var Ee=g((Tt,je)=>{"use strict";var Pe=require("fs"),we=require("os"),G=require("path");je.exports=function(e,t){typeof e!="string"&&(t=e,e=null);let r=Object.assign({cwd:process.cwd(),type:e},t),n;if(r.type==="global"?n=G.join(we.homedir(),".gitconfig"):n=G.resolve(r.cwd,".git/config"),!Pe.existsSync(n)){if(typeof r.type=="string")return null;n=G.join(we.homedir(),".config/git/config")}return Pe.existsSync(n)?n:null}});var ve=g((bt,Ce)=>{"use strict";var _=require("fs"),nt=require("os"),j=require("path"),Se=require("util"),ot=ye(),it=Ee(),xe=e=>e?e.replace(/^~/,nt.homedir()):"",p=(e,t)=>(typeof e=="function"&&(t=e,e=null),typeof t!="function"?p.promise(e):p.promise(e).then(r=>t(null,r)).catch(t));p.promise=e=>{let t=p.resolveConfigPath(e),r=Se.promisify(_.readFile),n=Se.promisify(_.stat);return t?n(t).then(()=>r(t,"utf8")).then(o=>(e&&e.include===!0&&(o=_e(o,j.resolve(j.dirname(t)))),Ae(o,e))):Promise.resolve(null)};p.sync=e=>{let t=p.resolveConfigPath(e);if(t&&_.existsSync(t)){let r=_.readFileSync(t,"utf8");if(e&&e.include===!0){let n=j.resolve(j.dirname(t));r=_e(r,n)}return Ae(r,e)}return{}};p.resolveConfigPath=e=>{typeof e=="string"&&(e={type:e});let t=Object.assign({cwd:process.cwd()},e),r=t.path?xe(t.path):it(t.type);return r?j.resolve(t.cwd,r):null};p.resolve=e=>p.resolveConfigPath(e);p.expandKeys=e=>{for(let t of Object.keys(e)){let r=/(\S+) "(.*)"/.exec(t);if(!r)continue;let n=r[1];e[n]=e[n]||{},e[n][r[2]]=e[t],delete e[t]}return e};function Ae(e,t){let r=Object.assign({},t);e=e.replace(/\[(\S+) "(.*)"\]/g,(o,i,s)=>i&&s?`[${i} "${s.split(".").join("\\.")}"]`:o);let n=ot.parse(e);return r.expandKeys===!0?p.expandKeys(n):n}function _e(e,t){let r=e.split(`
`).filter(i=>i.trim()!==""),n=r.length,o=[];for(let i=0;i<n;i++){let s=r[i];if(s.indexOf("[include]")===0){let a=r[i+1].replace(/^\s*path\s*=\s*/,""),l=j.resolve(t,xe(a));o.push(_.readFileSync(l))}else o.push(s)}return o.join(`
`)}Ce.exports=p});var jt={};Ke(jt,{default:()=>qe});var c=require("@raycast/api"),Fe=require("child_process"),d=require("fs"),V=v(de()),Le=require("os"),Ie=v(ve()),J=require("path"),ke=require("react");var C=v(require("node:path"),1),Te=v(require("node:os"),1),Oe=Te.default.homedir();function N(e){let t=C.default.normalize(e)+C.default.sep;return(t.startsWith(Oe)?t.replace(Oe+C.default.sep,`~${C.default.sep}`):t).slice(0,-1)}var E=(0,c.getPreferenceValues)(),K=E.gitClientAppPath||"",st=(0,d.existsSync)(K),z=E.terminalAppPath||"",ct=(0,d.existsSync)(z),I=E.build,be={Code:"com.microsoft.VSCode","Code - Insiders":"com.microsoft.VSCodeInsiders",VSCodium:"com.visualstudio.code.oss"},at=be[I]??be.Code,L=`${(0,Le.homedir)()}/Library/Application Support/${I}/User/globalStorage/alefragnani.project-manager`,De="vscode-remote://";function lt(){let e=pt()||L,t=`${e}/projects.json`,r=[`${e}/projects_cache_git.json`,`${e}/projects_cache_any.json`],n=[];if((0,d.existsSync)(t)){let o=JSON.parse((0,d.readFileSync)(t).toString());n.push(...o)}return r.forEach(o=>{(0,d.existsSync)(o)&&JSON.parse((0,d.readFileSync)(o).toString()).forEach(({name:s,fullPath:a})=>{n.push({name:s,rootPath:a,tags:[],enabled:!0})})}),E.hideProjectsWithoutTag&&(n=n.filter(({tags:o})=>Array.isArray(o)&&o.length)),n}function ut(e){return e?.reduce((t,r)=>(r.tags?.forEach(n=>{t.includes(n)||t.push(n)}),t.sort((n,o)=>n.toLowerCase().localeCompare(o.toLowerCase()))),[])}var ft=(e,t)=>e.filter(r=>t?r.tags?.find(n=>n===t):!0);function pt(){let e=E.projectManagerDataPath;if(e&&(0,d.existsSync)(e)){let t=(0,d.lstatSync)(e);if(t.isDirectory())return e;if(t.isFile())return(0,J.dirname)(e)}}function dt(e){return[...e].sort((r,n)=>r.name.localeCompare(n.name))}function mt(e){let t=new Map;return e.forEach(r=>{(r.tags?.length>0?r.tags:["[no tags]"]).forEach(o=>{let i=[];t.has(o)&&i.push(...t.get(o)||[]),i.push(r),t.set(o,i)})}),new Map([...t.entries()].sort())}function ht(e){let t=mt(e),r=[];return t.forEach((n,o)=>{r.push(_jsx(c.List.Section,{key:o,title:o},n?.map((i,s)=>_jsx($e,m({key:i.rootPath+s},i)))))}),r}function qe(){let e=[],t=lt(),r=ut(t),[n,o]=(0,ke.useState)("");if(!t||t.length===0)return _jsx(c.Detail,{markdown:`To use this extension, the Visual Studio Extension 
      [Project Manager](https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager)
       is required.`});let i=dt(t);if(E.groupProjectsByTag&&!n){let a=ht(i);e.push(...a)}else ft(i,n).forEach((a,l)=>{e.push(_jsx($e,m({key:a.rootPath+l},a)))});let s=a=>{o(a)};return _jsx(c.List,{searchBarPlaceholder:"Search projects ...",searchBarAccessory:r.length?_jsx(c.List.Dropdown,{tooltip:"Tags filter",onChange:s,defaultValue:void 0},_jsx(c.List.Dropdown.Section,null,_jsx(c.List.Dropdown.Item,{key:"0",title:"All Tags",value:""})),_jsx(c.List.Dropdown.Section,{title:"Tags"},r.map((a,l)=>_jsx(c.List.Dropdown.Item,{key:"tag-"+l,title:a,value:a})))):null},e)}function $e({name:e,rootPath:t,tags:r}){let n=t,o=N(n),i=(0,J.dirname)(o);return _jsx(c.List.Item,{title:e,subtitle:i,icon:{fileIcon:n},keywords:r,accessoryTitle:r?.join(", "),actions:_jsx(c.ActionPanel,null,_jsx(c.ActionPanel.Section,null,Pt(n)?_jsx(c.Action,{title:`Open in ${I} (Remote)`,icon:"command-icon.png",onAction:()=>{(0,Fe.exec)("code --remote "+wt(n)),(0,c.closeMainWindow)()}}):_jsx(c.Action.Open,{title:`Open in ${I}`,icon:"command-icon.png",target:n,application:at}),ct&&_jsx(c.Action,{title:"Open in Terminal",key:"terminal",onAction:()=>{(0,V.default)(n,{app:{name:z,arguments:[n]}}),(0,c.closeMainWindow)()},icon:{fileIcon:z},shortcut:{modifiers:["cmd"],key:"t"}}),st&&yt(n)&&_jsx(c.Action,{title:"Open in Git client",key:"git-client",onAction:()=>{(0,V.default)(n,{app:{name:K,arguments:[n]}}),(0,c.closeMainWindow)()},icon:{fileIcon:K},shortcut:{modifiers:["cmd"],key:"g"}}),_jsx(c.Action.ShowInFinder,{path:n}),_jsx(c.Action.OpenWith,{path:n,shortcut:{modifiers:["cmd"],key:"o"}})),_jsx(c.ActionPanel.Section,null,_jsx(c.Action.CopyToClipboard,{title:"Copy Name",content:e,shortcut:{modifiers:["cmd"],key:"."}}),_jsx(c.Action.CopyToClipboard,{title:"Copy Path",content:o,shortcut:{modifiers:["cmd","shift"],key:"."}})),_jsx(c.ActionPanel.Section,null,_jsx(c.Action.Trash,{paths:[n],shortcut:{modifiers:["ctrl"],key:"x"}})),_jsx(gt,null))})}function gt(){return c.environment.isDevelopment?_jsx(c.ActionPanel.Section,{title:"Development"},_jsx(c.Action.Open,{title:"Open projects.json File in Code",icon:"command-icon.png",target:L,application:"Visual Studio Code"}),_jsx(c.Action.ShowInFinder,{title:"Show projects.json File in Finder",path:L}),_jsx(c.Action.CopyToClipboard,{title:"Copy projects.json File Path",content:L})):null}function yt(e){return!!Ie.default.sync({cwd:e,path:".git/config",expandKeys:!0}).core}function Pt(e){return e.startsWith(De)}function wt(e){e=e.slice(De.length);let t=e.indexOf("/");return e.slice(0,t)+" "+e.slice(t)}module.exports=ze(jt);0&&(module.exports={});
/*!
 * git-config-path <https://github.com/jonschlinkert/git-config-path>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * parse-git-config <https://github.com/jonschlinkert/parse-git-config>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
